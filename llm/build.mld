@import [../new/grab.mld.md]

@data coreFiles = @grabFiles("..", "core/**/*.mld.md")
@data newFiles = @grabFiles("..", "new/**/*.mld.md")

## Modules

@text coreTldrs = foreach [../@coreFiles.path # tldr] as `### [@coreFiles.name](./@coreFiles.path)`
@text newTldrs = foreach [../@newFiles.path # tldr] as `### [@newFiles.name](./@newFiles.path)`

@text coreReadme = [[
## Core Modules

These are intended to be fairly stable long-term.

{{coreTldrs}}
]]

@text newReadme = [[
## New Modules

These are experiments.

{{newTldrs}}
]]


@text readme = [[
# mlld Standard Library Modules

Standard library modules for the mlld prompt scripting language.

## Module Organization

Modules are organized into three categories:

- **core/** - Hopefully stable modules
- **new/** - Experimental modules

{{newReadme}}

{{coreReadme}}

---
All readmes are generated by the `llm/build.mld` script.
]]

@output @readme [../README.md]
@output @coreReadme [../core/README.md]
@output @newReadme [../new/README.md]