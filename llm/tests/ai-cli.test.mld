>> Tests for @mlld/ai-cli module

/import { @ok, @eq } from @local/test
/import { @claude, @claudeJson, @claudeModel, @claudeTools, @codex, @codexModel, @codexDir, @gemini, @geminiJson, @geminiModel } from @local/ai-cli

## Test Claude functions exist
/var @test_claude_exists = @ok(@claude)
/var @test_claudeJson_exists = @ok(@claudeJson)
/var @test_claudeModel_exists = @ok(@claudeModel)
/var @test_claudeTools_exists = @ok(@claudeTools)

## Test Codex functions exist
/var @test_codex_exists = @ok(@codex)
/var @test_codexModel_exists = @ok(@codexModel)
/var @test_codexDir_exists = @ok(@codexDir)

## Test Gemini functions exist
/var @test_gemini_exists = @ok(@gemini)
/var @test_geminiJson_exists = @ok(@geminiJson)
/var @test_geminiModel_exists = @ok(@geminiModel)

## Test that functions are callable (type check)
/exe @isFunction(@val) = js { return typeof val === "function"; }
/var @test_claude_is_function = @ok(@isFunction(@claude))
/var @test_claudeJson_is_function = @ok(@isFunction(@claudeJson))
/var @test_codex_is_function = @ok(@isFunction(@codex))
/var @test_gemini_is_function = @ok(@isFunction(@gemini))

## Test actual function calls (basic smoke tests)
>> Note: These make real API calls, so they're slow and may cost money
>> Comment out if you want faster/free tests

/var @claude_response = @claude("Say hello")
/var @test_claude_response = @ok(@claude_response)
/var @test_claude_has_content = @ok(@claude_response.length() > 0)

/var @claudeJson_response = @claudeJson("What is 2+2?")
/var @test_claudeJson_response = @ok(@claudeJson_response)
/var @test_claudeJson_has_result = @ok(@claudeJson_response.result)
/var @test_claudeJson_has_cost = @ok(@claudeJson_response.total_cost_usd)
/var @test_claudeJson_has_usage = @ok(@claudeJson_response.usage)

/var @codex_response = @codex("What is 3+3?")
/var @test_codex_response = @ok(@codex_response)
/var @test_codex_has_content = @ok(@codex_response.length() > 0)
